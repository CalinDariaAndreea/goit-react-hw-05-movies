{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Yukina/OneDrive/Desktop/git/goit-react-hw-05-movies/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Yukina/OneDrive/Desktop/git/goit-react-hw-05-movies/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Yukina\\\\OneDrive\\\\Desktop\\\\git\\\\goit-react-hw-05-movies\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Suspense}from'react';// додаємо бібліотеку для lazy\nimport{useEffect,useState}from'react';// додаємо бібліотеку для хуків\nimport{useParams,Outlet,useLocation,Link}from'react-router-dom';// додаємо бібліотеку для роботи з адресою\nimport{BsArrowLeftShort}from'react-icons/bs';// додаємо бібліотеку для іконки\nimport{fetchMovieById}from'../services/api';// додаємо запит на фільм\nimport MovieCard from'../components/MovieCard/MovieCard';import{Button,Container}from'./MovieDelails.styled';import{LoadingIndicator}from'components/SharedLayout/LoadingDots';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MovieDelails=function MovieDelails(){var _location$state$from,_location$state;var _useParams=useParams(),movieId=_useParams.movieId;var location=useLocation();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),selectedMovie=_useState2[0],setSelectedMovie=_useState2[1];// додаємо запит на фільм\nuseEffect(function(){var fetchSelectedMovie=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(movieId){var movieData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetchMovieById(movieId);case 3:movieData=_context.sent;setSelectedMovie(movieData);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchSelectedMovie(_x){return _ref.apply(this,arguments);};}();fetchSelectedMovie(movieId);},[movieId]);return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Link,{to:(_location$state$from=location===null||location===void 0?void 0:(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.from)!==null&&_location$state$from!==void 0?_location$state$from:'/',children:/*#__PURE__*/_jsxs(Button,{type:\"button\",children:[/*#__PURE__*/_jsx(BsArrowLeftShort,{style:{width:'25px',height:'25px',display:'inline-block'}}),\"Go back\"]})}),/*#__PURE__*/_jsx(MovieCard,{movie:selectedMovie}),\" \",/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(LoadingIndicator,{}),children:/*#__PURE__*/_jsx(Outlet,{})})]})});};export default MovieDelails;// Діма Берестень","map":{"version":3,"sources":["C:/Users/Yukina/OneDrive/Desktop/git/goit-react-hw-05-movies/src/pages/MovieDetails.jsx"],"names":["Suspense","useEffect","useState","useParams","Outlet","useLocation","Link","BsArrowLeftShort","fetchMovieById","MovieCard","Button","Container","LoadingIndicator","MovieDelails","movieId","location","selectedMovie","setSelectedMovie","fetchSelectedMovie","movieData","console","log","state","from","width","height","display"],"mappings":"ocAAA,OAASA,QAAT,KAAyB,OAAzB,CAAkC;AAClC,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CAA6C;AAC7C,OAASC,SAAT,CAAoBC,MAApB,CAA4BC,WAA5B,CAAyCC,IAAzC,KAAqD,kBAArD,CAAyE;AACzE,OAASC,gBAAT,KAAiC,gBAAjC,CAAmD;AACnD,OAASC,cAAT,KAA+B,iBAA/B,CAAkD;AAClD,MAAOC,CAAAA,SAAP,KAAsB,mCAAtB,CACA,OAASC,MAAT,CAAiBC,SAAjB,KAAkC,uBAAlC,CACA,OAASC,gBAAT,KAAiC,qCAAjC,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,0CACzB,eAAoBV,SAAS,EAA7B,CAAQW,OAAR,YAAQA,OAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CACA,cAA0CH,QAAQ,CAAC,EAAD,CAAlD,wCAAOc,aAAP,eAAsBC,gBAAtB,eAEA;AACAhB,SAAS,CAAC,UAAM,CACd,GAAMiB,CAAAA,kBAAkB,0FAAG,iBAAMJ,OAAN,sKAECN,CAAAA,cAAc,CAACM,OAAD,CAFf,QAEjBK,SAFiB,eAGvBF,gBAAgB,CAACE,SAAD,CAAhB,CAHuB,+EAKvBC,OAAO,CAACC,GAAR,cALuB,oEAAH,kBAAlBH,CAAAA,kBAAkB,4CAAxB,CASAA,kBAAkB,CAACJ,OAAD,CAAlB,CACD,CAXQ,CAWN,CAACA,OAAD,CAXM,CAAT,CAaA,mBACE,mCACE,MAAC,SAAD,yBAGE,KAAC,IAAD,EAAM,EAAE,uBAAEC,QAAF,SAAEA,QAAF,kCAAEA,QAAQ,CAAEO,KAAZ,0CAAE,gBAAiBC,IAAnB,6DAA2B,GAAnC,uBACE,MAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,wBACE,KAAC,gBAAD,EACE,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,MAAzB,CAAiCC,OAAO,CAAE,cAA1C,CADT,EADF,aADF,EAHF,cAYE,KAAC,SAAD,EAAW,KAAK,CAAEV,aAAlB,EAZF,kBAeE,KAAC,QAAD,EAAU,QAAQ,cAAE,KAAC,gBAAD,IAApB,uBACE,KAAC,MAAD,IADF,EAfF,GADF,EADF,CAuBD,CA1CD,CA4CA,cAAeH,CAAAA,YAAf,CAEA","sourcesContent":["import { Suspense } from 'react'; // додаємо бібліотеку для lazy\r\nimport { useEffect, useState } from 'react'; // додаємо бібліотеку для хуків\r\nimport { useParams, Outlet, useLocation, Link } from 'react-router-dom'; // додаємо бібліотеку для роботи з адресою\r\nimport { BsArrowLeftShort } from 'react-icons/bs'; // додаємо бібліотеку для іконки\r\nimport { fetchMovieById } from '../services/api'; // додаємо запит на фільм\r\nimport MovieCard from '../components/MovieCard/MovieCard';\r\nimport { Button, Container } from './MovieDelails.styled';\r\nimport { LoadingIndicator } from 'components/SharedLayout/LoadingDots';\r\n\r\nconst MovieDelails = () => {\r\n  const { movieId } = useParams();\r\n  const location = useLocation();\r\n  const [selectedMovie, setSelectedMovie] = useState({});\r\n\r\n  // додаємо запит на фільм\r\n  useEffect(() => {\r\n    const fetchSelectedMovie = async movieId => {\r\n      try {\r\n        const movieData = await fetchMovieById(movieId);\r\n        setSelectedMovie(movieData);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    fetchSelectedMovie(movieId);\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <main>\r\n      <Container>\r\n\r\n        {/* додаємо кнопку для повернення на попередню сторінку */}\r\n        <Link to={location?.state?.from ?? '/'}>\r\n          <Button type=\"button\">\r\n            <BsArrowLeftShort\r\n              style={{ width: '25px', height: '25px', display: 'inline-block' }}\r\n            />\r\n            Go back\r\n          </Button>\r\n        </Link>\r\n\r\n        <MovieCard movie={selectedMovie} /> {/* додаємо компонент для відображення фільму */}\r\n\r\n        {/* додаємо відкладений рендеринг дочірніх компонентів */}\r\n        <Suspense fallback={<LoadingIndicator />}>\r\n          <Outlet />\r\n        </Suspense>\r\n      </Container>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default MovieDelails;\r\n\r\n// Діма Берестень\r\n"]},"metadata":{},"sourceType":"module"}