{"ast":null,"code":"import{useLocation}from'react-router-dom';// доступ до параметрів поточного URL\nimport{Img,List,ListItem,MoreInfoHeader,MoreInfoWrapper,MovieCardContainer,MovieInfo,MovieInfoText,MovieInfoTextBold,MovieName,StyledLink}from'./MovieCard.styled';// додаємо стилі\nimport{LoadingIndicator}from'components/SharedLayout/LoadingDots';// додаємо індикатор завантаження\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MovieCard=function MovieCard(_ref){var _location$state$from,_location$state,_location$state$from2,_location$state2;var movie=_ref.movie;var title=movie.title,release_date=movie.release_date,poster_path=movie.poster_path,vote_average=movie.vote_average,overview=movie.overview,genres=movie.genres;var location=useLocation();// додаємо доступ до параметрів поточного URL\nvar releaseDate=new Date(release_date);// перевіряємо чи дата валідна, якщо ні, то виводимо Unknown\nvar releaseYear=isNaN(releaseDate)?'Unknown':releaseDate.getFullYear();// додаємо перевірку на наявність постера\nvar posterUrl=poster_path?\"https://image.tmdb.org/t/p/w400/\".concat(poster_path):'https://via.placeholder.com/400x600.png?text=Poster+Not+Available';// додаємо перевірку на наявність рейтингу\nvar userScore=vote_average?\"\".concat((vote_average*10).toFixed(0),\"%\"):'Not rated yet';// додаємо перевірку на наявність заголовку\nif(!title){return/*#__PURE__*/_jsx(LoadingIndicator,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(MovieCardContainer,{children:[/*#__PURE__*/_jsx(Img,{src:posterUrl,alt:\"\".concat(title,\" poster\")}),/*#__PURE__*/_jsxs(MovieInfo,{children:[/*#__PURE__*/_jsxs(MovieName,{children:[title!==null&&title!==void 0?title:'Unknown',\" (\",releaseYear,\")\"]}),/*#__PURE__*/_jsxs(MovieInfoText,{children:[\"User Score: \",userScore]}),/*#__PURE__*/_jsxs(MovieInfoText,{children:[/*#__PURE__*/_jsx(MovieInfoTextBold,{children:\"Overview:\"}),\" \",overview]}),genres&&genres.length>0&&/*#__PURE__*/_jsxs(MovieInfoText,{children:[/*#__PURE__*/_jsx(MovieInfoTextBold,{children:\"Genres:\"}),genres.map(function(genre){return genre.name;}).join(', ')]})]})]}),/*#__PURE__*/_jsxs(MoreInfoWrapper,{children:[/*#__PURE__*/_jsx(MoreInfoHeader,{children:\"Additional information\"}),/*#__PURE__*/_jsxs(List,{children:[/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(StyledLink,{to:\"cast\",state:{from:(_location$state$from=location===null||location===void 0?void 0:(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.from)!==null&&_location$state$from!==void 0?_location$state$from:'/'}// додаємо параметр from для повернення на попередню сторінку\n,children:\"Cast\"})}),/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(StyledLink,{to:\"reviews\",state:{from:(_location$state$from2=location===null||location===void 0?void 0:(_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.from)!==null&&_location$state$from2!==void 0?_location$state$from2:'/'},children:\"Reviews\"})})]})]})]});};// додаємо перевірку на типи пропсів\nexport default MovieCard;// Діма Берестень","map":{"version":3,"sources":["C:/Users/Yukina/OneDrive/Desktop/git/goit-react-hw-05-movies/src/components/MovieCard/MovieCard.jsx"],"names":["useLocation","Img","List","ListItem","MoreInfoHeader","MoreInfoWrapper","MovieCardContainer","MovieInfo","MovieInfoText","MovieInfoTextBold","MovieName","StyledLink","LoadingIndicator","MovieCard","movie","title","release_date","poster_path","vote_average","overview","genres","location","releaseDate","Date","releaseYear","isNaN","getFullYear","posterUrl","userScore","toFixed","length","map","genre","name","join","from","state"],"mappings":"AAAA,OAASA,WAAT,KAA4B,kBAA5B,CAAgD;AAEhD,OACEC,GADF,CAEEC,IAFF,CAGEC,QAHF,CAIEC,cAJF,CAKEC,eALF,CAMEC,kBANF,CAOEC,SAPF,CAQEC,aARF,CASEC,iBATF,CAUEC,SAVF,CAWEC,UAXF,KAYO,oBAZP,CAY6B;AAC7B,OAASC,gBAAT,KAAiC,qCAAjC,CAAwE;6IAExE,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAe,oFAAZC,CAAAA,KAAY,MAAZA,KAAY,CAC/B,GAAQC,CAAAA,KAAR,CACAD,KADA,CAAQC,KAAR,CAAeC,YAAf,CACAF,KADA,CAAeE,YAAf,CAA6BC,WAA7B,CACAH,KADA,CAA6BG,WAA7B,CAA0CC,YAA1C,CACAJ,KADA,CAA0CI,YAA1C,CAAwDC,QAAxD,CACAL,KADA,CAAwDK,QAAxD,CAAkEC,MAAlE,CACAN,KADA,CAAkEM,MAAlE,CAEA,GAAMC,CAAAA,QAAQ,CAAGrB,WAAW,EAA5B,CAAgC;AAChC,GAAMsB,CAAAA,WAAW,CAAG,GAAIC,CAAAA,IAAJ,CAASP,YAAT,CAApB,CAEA;AACA,GAAMQ,CAAAA,WAAW,CAAGC,KAAK,CAACH,WAAD,CAAL,CAChB,SADgB,CAEhBA,WAAW,CAACI,WAAZ,EAFJ,CAIA;AACA,GAAMC,CAAAA,SAAS,CAAGV,WAAW,2CACUA,WADV,EAEzB,mEAFJ,CAIA;AACA,GAAMW,CAAAA,SAAS,CAAGV,YAAY,WACvB,CAACA,YAAY,CAAG,EAAhB,EAAoBW,OAApB,CAA4B,CAA5B,CADuB,MAE1B,eAFJ,CAIA;AACA,GAAI,CAACd,KAAL,CAAY,CACV,mBAAO,KAAC,gBAAD,IAAP,CACD,CAED,mBACE,wCACE,MAAC,kBAAD,yBACE,KAAC,GAAD,EAAK,GAAG,CAAEY,SAAV,CAAqB,GAAG,WAAKZ,KAAL,WAAxB,EADF,cAGE,MAAC,SAAD,yBACE,MAAC,SAAD,YACGA,KADH,SACGA,KADH,UACGA,KADH,CACY,SADZ,MACyBS,WADzB,OADF,cAIE,MAAC,aAAD,2BAA4BI,SAA5B,GAJF,cAKE,MAAC,aAAD,yBACE,KAAC,iBAAD,wBADF,KACoDT,QADpD,GALF,CAUGC,MAAM,EAAIA,MAAM,CAACU,MAAP,CAAgB,CAA1B,eACC,MAAC,aAAD,yBACE,KAAC,iBAAD,sBADF,CAEGV,MAAM,CAACW,GAAP,CAAW,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,IAAV,EAAhB,EAAgCC,IAAhC,CAAqC,IAArC,CAFH,GAXJ,GAHF,GADF,cAwBE,MAAC,eAAD,yBACE,KAAC,cAAD,qCADF,cAGE,MAAC,IAAD,yBACE,KAAC,QAAD,wBACE,KAAC,UAAD,EACE,EAAE,CAAC,MADL,CAEE,KAAK,CAAE,CAAEC,IAAI,uBAAEd,QAAF,SAAEA,QAAF,kCAAEA,QAAQ,CAAEe,KAAZ,0CAAE,gBAAiBD,IAAnB,6DAA2B,GAAjC,CAAwC;AAFjD,kBADF,EADF,cAUE,KAAC,QAAD,wBACE,KAAC,UAAD,EACE,EAAE,CAAC,SADL,CAEE,KAAK,CAAE,CAAEA,IAAI,wBAAEd,QAAF,SAAEA,QAAF,mCAAEA,QAAQ,CAAEe,KAAZ,2CAAE,iBAAiBD,IAAnB,+DAA2B,GAAjC,CAFT,qBADF,EAVF,GAHF,GAxBF,GADF,CAmDD,CA7ED,CA+EA;AAcA,cAAetB,CAAAA,SAAf,CAEA","sourcesContent":["import { useLocation } from 'react-router-dom'; // доступ до параметрів поточного URL\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Img,\r\n  List,\r\n  ListItem,\r\n  MoreInfoHeader,\r\n  MoreInfoWrapper,\r\n  MovieCardContainer,\r\n  MovieInfo,\r\n  MovieInfoText,\r\n  MovieInfoTextBold,\r\n  MovieName,\r\n  StyledLink,\r\n} from './MovieCard.styled'; // додаємо стилі\r\nimport { LoadingIndicator } from 'components/SharedLayout/LoadingDots'; // додаємо індикатор завантаження\r\n\r\nconst MovieCard = ({ movie }) => {\r\n  const { title, release_date, poster_path, vote_average, overview, genres } =\r\n  movie;\r\n  const location = useLocation(); // додаємо доступ до параметрів поточного URL\r\n  const releaseDate = new Date(release_date);\r\n\r\n  // перевіряємо чи дата валідна, якщо ні, то виводимо Unknown\r\n  const releaseYear = isNaN(releaseDate)\r\n    ? 'Unknown'\r\n    : releaseDate.getFullYear();\r\n\r\n  // додаємо перевірку на наявність постера\r\n  const posterUrl = poster_path\r\n    ? `https://image.tmdb.org/t/p/w400/${poster_path}`\r\n    : 'https://via.placeholder.com/400x600.png?text=Poster+Not+Available';\r\n\r\n  // додаємо перевірку на наявність рейтингу\r\n  const userScore = vote_average\r\n    ? `${(vote_average * 10).toFixed(0)}%`\r\n    : 'Not rated yet';\r\n\r\n  // додаємо перевірку на наявність заголовку\r\n  if (!title) {\r\n    return <LoadingIndicator />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MovieCardContainer>\r\n        <Img src={posterUrl} alt={`${title} poster`} />\r\n\r\n        <MovieInfo>\r\n          <MovieName>\r\n            {title ?? 'Unknown'} ({releaseYear})\r\n          </MovieName>\r\n          <MovieInfoText>User Score: {userScore}</MovieInfoText>\r\n          <MovieInfoText>\r\n            <MovieInfoTextBold>Overview:</MovieInfoTextBold> {overview}\r\n          </MovieInfoText>\r\n\r\n          {/* додаємо перевірку на наявність жанрів */}\r\n          {genres && genres.length > 0 && (\r\n            <MovieInfoText>\r\n              <MovieInfoTextBold>Genres:</MovieInfoTextBold>\r\n              {genres.map(genre => genre.name).join(', ')}\r\n            </MovieInfoText>\r\n          )}\r\n        </MovieInfo>\r\n\r\n      </MovieCardContainer>\r\n\r\n      <MoreInfoWrapper>\r\n        <MoreInfoHeader>Additional information</MoreInfoHeader>\r\n\r\n        <List>\r\n          <ListItem>\r\n            <StyledLink\r\n              to=\"cast\"\r\n              state={{ from: location?.state?.from ?? '/' }} // додаємо параметр from для повернення на попередню сторінку\r\n            >\r\n              Cast\r\n            </StyledLink>\r\n          </ListItem>\r\n\r\n          <ListItem>\r\n            <StyledLink\r\n              to=\"reviews\"\r\n              state={{ from: location?.state?.from ?? '/' }}\r\n            >\r\n              Reviews\r\n            </StyledLink>\r\n          </ListItem>\r\n        </List>\r\n\r\n      </MoreInfoWrapper>\r\n    </>\r\n  );\r\n};\r\n\r\n// додаємо перевірку на типи пропсів\r\nMovieCard.propTypes = {\r\n  movie: PropTypes.shape({\r\n    title: PropTypes.string.isRequired,\r\n    release_date: PropTypes.string.isRequired,\r\n    poster_path: PropTypes.string.isRequired,\r\n    vote_average: PropTypes.number,\r\n    overview: PropTypes.string,\r\n    genres: PropTypes.arrayOf(\r\n      PropTypes.shape({ name: PropTypes.string.isRequired })\r\n    ),\r\n  }).isRequired,\r\n};\r\n\r\nexport default MovieCard;\r\n\r\n// Діма Берестень\r\n"]},"metadata":{},"sourceType":"module"}